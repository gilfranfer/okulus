<section ng-show="currentSession.memberData">
  <article class="row">

    <!-- Profile Summary -->
    <div class="col-md-6 mb-3">
      <div class="card h-100">
        <div class="card-body">
          <h4 class="card-title">{{currentSession.memberData.shortname}}</h4>
          <hr>
          <p class="card-text">
            <span class="font-weight-bold">{{currentSession.user.email}}</span><br>
            <span class="font-weight-bold">{{i18n.profile.lastLogin}}</span>
            <span>{{currentSession.user.lastLoginOn | date: config.formats.datetime }}</span><br>
            <span class="font-weight-bold">{{i18n.profile.lastActivity}}</span>
            <span>{{currentSession.user.lastActivityOn | date: config.formats.datetime }}</span><br>
            <!-- <a ng-href="#!/profile" class="btn btn-warning float-right">{{i18n.profile.viewProfileBtn}}</a> -->
          </p>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="col-md-6 mb-3">
      <div class="card h-100">
        <div class="card-body">
          <h4 class="card-title">{{i18n.launchpad.title}}</h4>
          <hr>
          <div class="row">
            <div class="col" ng-controller="CreateReportCntrl">
              <button class="btn btn-block btn-warning clickable"
              ng-click="quickReportLauncher()"  ng-show="currentSession.accessGroups.length == 1">
              {{i18n.launchpad.createReport}}
              </button>
              <div ng-include="'views/groups/groupSelectModal.html'"></div>
              <button class="btn btn-block btn-warning clickable"
              ng-show="currentSession.accessGroups.length > 1"
              data-toggle="modal" data-target="#groupSelectModal">
              {{i18n.launchpad.createReport}}
              </button>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col" ng-if="currentSession.user.type == 'admin'">
              <a href="#!/members/new" class="btn btn-block btn-warning clickable">
                {{i18n.launchpad.createMember}}
              </a>
            </div>
            <div class="col" ng-if="currentSession.user.type != 'admin'">
              <a href="#!/requests/newmember" class="btn btn-block btn-warning clickable">
                {{i18n.launchpad.requestMember}}
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

  </article>
  <!-- Message Center -->
  <article class="row" ng-controller="MessageCenterCntrl">
    <div class="col">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">{{i18n.msgCenter.title}}</h4>
          <hr>
          <div class="pre-scrollable mb-4">
            <div class="row" ng-repeat="message in msgCenterMessages | orderBy:'createdOn':true track by message.$id" >
                <div class="alert alert-{{message.type}} ml-4 mr-4">
                  {{message.message}}
                  <br>
                  <hr style="margin-bottom: 0;">
                  <span class="small font-weight-light">
                    {{message.createdBy}} -
                    {{message.createdOn | date: config.formats.datetime}}
                  </span>
                  <br>
                  <!-- Show Delete option when message was created by current User -->
                  <span class="small font-weight-light clickable"
                      ng-click="removeMessage(message.$id)"
                      ng-if="(message.createdBy == currentSession.user.email) || (
                              currentSession.user.type == 'admin')">
                    {{i18n.msgCenter.deleteMsg}}
                  </span>
                </div>
            </div>
          </div>
          <!-- Alerts -->
          <div class="alert alert-danger" ng-show="!msgCenterMessages || msgCenterMessages.length<=0">
            {{i18n.msgCenter.noMessages}}
          </div>
          <div ng-include="'views/alerts.html'"></div>
          <!-- Create Messages -->
          <div class="mt-4" ng-show="currentSession.user.type == 'admin'">
            <p class="card-text">
              {{i18n.msgCenter.instruction}}
            </p>
            <form name="messageForm" novalidate ng-submit="postMessage()">
              <div class="row mt-3">
                <div class="col-sm-10">
                  <textarea class="form-control" ng-required="true" ng-model="message.content"></textarea>
                </div>
                <div class="col-sm-2">
                  <button type="submit" class="btn btn-block btn-success h-100"
                      ng-disabled="messageForm.$invalid || messageForm.$pristine">
                    {{i18n.msgCenter.sendBtn}}
                  </button>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-10">
                  <input id="importantMsgCheck" type="checkbox" ng-model="message.isImportant">
                  <label for="importantMsgCheck">{{i18n.msgCenter.importanMsg}}</label>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- Card End -->
    </div>
  </article>
</section>
